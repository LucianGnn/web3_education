import asyncio

from eth_async.client import Client
from eth_async.models import Networks, TokenAmount

from tasks.mute import Mute
from tasks.space_fi import SpaceFi
from tasks.base import Base
from data.config import PRIVATE_KEY


async def main():
    client = Client(private_key=PRIVATE_KEY, network=Networks.ZkSync)
    mute = Mute(client=client)
    space_fi = SpaceFi(client=client)
    base = Base(client=client)

    # await space_fi.swap_eth_to_usdc(amount=TokenAmount(0.001))
    # print()
    # print(await mute.swap_eth_to_usdc(TokenAmount(amount=0.001)))
    # base.parse_params(params='0x7ff36ab5000000000000000000000000000000000000000000000000000000000017d8be0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000e747990d5a3df6737851022cba3a32efe85684e70000000000000000000000000000000000000000000000000000000064ff27fd00000000000000000000000000000000000000000000000000000000000000020000000000000000000000005aea5775959fbc2557cc8789bc1bf90a239d9a910000000000000000000000003355df6d4c9c3035724fd0e3914de96a5a83aaf4')
    # base.parse_params(params='0x695f0198000000000000000000000000000000000000000000000000000000000022eae3000000000000000000000000b7a4557a2bbd392a89fbe80aa726cbd645d112cb0000000000000000000000000000000000000000000000000000000065b827240000000000000000000000005aea5775959fbc2557cc8789bc1bf90a239d9a910000000000000000000000003355df6d4c9c3035724fd0e3914de96a5a83aaf4')
    # base.parse_params(params='0x7ff36ab500000000000000000000000000000000000000000000000000000000002300280000000000000000000000000000000000000000000000000000000000000080000000000000000000000000b7a4557a2bbd392a89fbe80aa726cbd645d112cb0000000000000000000000000000000000000000000000000000000065b82cad00000000000000000000000000000000000000000000000000000000000000020000000000000000000000005aea5775959fbc2557cc8789bc1bf90a239d9a910000000000000000000000003355df6d4c9c3035724fd0e3914de96a5a83aaf4')

    print(await space_fi.swap_eth_to_usdc(amount=TokenAmount(0.001)))


if __name__ == '__main__':
    asyncio.run(main())
